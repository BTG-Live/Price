<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>BTG Openverse — Live Price</title>
<style>
:root {
  --bg:#000;
  --card:#0b0b0b;
  --gold:#f5c542;
  --red:#ff4b4b;
  --green:#39ff88;
  --muted:#aaa;
}
*{box-sizing:border-box}
body{
  margin:0;
  background: radial-gradient(circle at top left, rgba(255,215,0,0.1), transparent 60%), var(--bg);
  display:flex;align-items:center;justify-content:center;min-height:100vh;
  font-family:"Poppins",Arial,sans-serif;color:#eee;
}
.widget{
  background:linear-gradient(180deg,#111,#000);
  border:1px solid rgba(255,215,0,0.25);
  border-radius:14px;
  box-shadow:0 0 25px rgba(255,215,0,0.08);
  padding:18px 20px;
  width:340px;
}
.top{
  display:flex;align-items:center;justify-content:space-between;
}
.left{
  display:flex;align-items:center;gap:12px;
}
.logo img{width:46px;height:46px;border-radius:10px;object-fit:cover}
.title .name{font-weight:700;color:var(--gold);font-size:1.05rem;}
.title .symbol{color:var(--muted);font-size:0.82rem;}
.price-row{display:flex;align-items:center;gap:8px;margin-top:12px;}
.price{
  font-size:1.9rem;
  font-weight:700;
  display:flex;align-items:center;gap:10px;
  color:var(--gold);
}
.symbol-chip{
  background:rgba(255,215,0,0.08);
  padding:3px 8px;border-radius:8px;border:1px solid rgba(255,215,0,0.15);
  font-weight:600;color:var(--gold);
}
.trend{
  display:flex;align-items:center;gap:6px;
  padding:5px 9px;
  border-radius:8px;
  font-weight:700;
  border:1px solid rgba(255,255,255,0.08);
  background:rgba(255,255,255,0.03);
}
.trend.up{color:var(--green);border-color:rgba(57,255,136,0.2);}
.trend.down{color:var(--red);border-color:rgba(255,75,75,0.25);}
.pct{font-size:0.95rem;}
.meta{font-size:0.8rem;color:var(--muted);margin-top:8px;text-align:right;}
@media(max-width:420px){.widget{width:90%;font-size:90%;}}
</style>
</head>
<body>
  <div class="widget">
    <div class="top">
      <div class="left">
        <div class="logo">
          <img src="btglogo.png" alt="BTG Logo">
        </div>
        <div class="title">
          <div class="name">Openverse Network</div>
          <div class="symbol">BTG — Live</div>
        </div>
      </div>
      <div id="trend" class="trend"><span id="arrow"></span><span id="pct">--%</span></div>
    </div>

    <div class="price-row">
      <div class="price"><span class="symbol-chip">BTG</span><span id="price">$--</span></div>
    </div>
    <div class="meta" id="meta">Updating…</div>
  </div>

<script>
const API = "https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=openverse-network&price_change_percentage=1h";
let history=[];
const priceEl=document.getElementById("price");
const pctEl=document.getElementById("pct");
const arrowEl=document.getElementById("arrow");
const meta=document.getElementById("meta");
const trend=document.getElementById("trend");

function svgUp(c){return `<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="${c}" stroke-width="2.3" stroke-linecap="round" stroke-linejoin="round"><path d="M12 4v16"/><path d="M6 10l6-6 6 6"/></svg>`}
function svgDown(c){return `<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="${c}" stroke-width="2.3" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20V4"/><path d="M18 14l-6 6-6-6"/></svg>`}

function format(n){
  if(!n)return "--";
  if(n>=1)return "$"+n.toFixed(3);
  return "$"+n.toFixed(6);
}

async function fetchPrice(){
  try{
    const res=await fetch(API,{cache:"no-store"});
    const data=await res.json();
    const p=data[0].current_price;
    const pct1h=data[0].price_change_percentage_1h_in_currency||0;
    const now=Date.now();
    history.push({t:now,price:p});
    if(history.length>120)history.shift();
    const oneMinAgo=now-60*1000;
    const older=history.findLast(x=>x.t<=oneMinAgo);
    let change=0;
    if(older)change=((p-older.price)/older.price)*100;
    priceEl.textContent=format(p);
    const sign=pct1h>=0?"+":"";
    pctEl.textContent=sign+pct1h.toFixed(2)+"%";
    const color=pct1h>=0?"var(--green)":"var(--red)";
    pctEl.style.color=color;

    if(change>0.0001){
      trend.className="trend up";
      arrowEl.innerHTML=svgUp("var(--green)");
    }else if(change<-0.0001){
      trend.className="trend down";
      arrowEl.innerHTML=svgDown("var(--red)");
    }else{
      trend.className="trend";
      arrowEl.innerHTML="";
    }

    meta.textContent="Updated: "+new Date().toLocaleTimeString();
  }catch(e){
    priceEl.textContent="Error";
  }
}

fetchPrice();
setInterval(fetchPrice,1000);
</script>
</body>
</html>
